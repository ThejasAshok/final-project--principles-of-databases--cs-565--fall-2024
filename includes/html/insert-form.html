<form method="post" action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>">
  <!-- Account Details Section -->
  <fieldset>
    <legend><h2>Account Details</h2></legend>

    <!-- Site/App Name -->
    <div class="form-group">
      <label for="site-name">
        Site/App Name:
        <span title="Enter the name of the site or application, e.g., YouTube">?</span>
      </label>
      <input type="text" name="site-name" id="site-name" required placeholder="e.g., YouTube">
    </div>

    <!-- URL -->
    <div class="form-group">
      <label for="url">
        URL:
        <span title="Enter the website URL, e.g., https://www.youtube.com">?</span>
      </label>
      <input type="url" name="url" id="url" required placeholder="e.g., https://www.youtube.com">
    </div>

    <!-- Username -->
    <div class="form-group">
      <label for="username">
        Username:
        <span title="Enter the username for this account">?</span>
      </label>
      <select id="username" name="username" required>
        <option value="" disabled selected>Select Username</option>
        <?php
          $rows = getUsernames(); // Fetch usernames dynamically
          foreach ($rows as $row) {
              echo '<option value="'.$row["username"].'">'.$row["username"].'</option>';
          }
        ?>
      </select>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label for="password">
        Password:
        <span title="Choose a strong password for this account">?</span>
      </label>
      <input type="password" name="password" id="password" required placeholder="Choose a strong password">
      <input type="checkbox" id="show-password" onclick="togglePassword()"> Show Password
    </div>
  </fieldset>

  <!-- Personal Information Section -->
  <fieldset>
    <legend><h2>Personal Information</h2></legend>

    <!-- User ID -->
    <div class="form-group">
      <label for="user-id">
        User ID:
        <span title="Enter the user ID associated with this account">?</span>
      </label>
      <input type="number" name="user-id" id="user-id" required placeholder="e.g., 12345">
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">
        Email Address:
        <span title="Enter the email address associated with this account">?</span>
      </label>
      <input type="email" name="email" id="email" required placeholder="e.g., user@example.com">
    </div>

    <!-- Comment -->
    <div class="form-group">
      <label for="comment">
        Comment:
        <span title="Enter any additional notes about this account">?</span>
      </label>
      <textarea name="comment" id="comment" rows="4" required placeholder="e.g., Notes about this account"></textarea>
    </div>
  </fieldset>

  <!-- Submit and Reset Buttons -->
  <div class="form-group">
    <button type="submit" class="btn">Add Account</button>
    <button type="reset" class="btn">Reset</button>
  </div>

  <!-- Hidden Input -->
  <input type="hidden" name="submitted" value="3">
</form>

<!-- JavaScript for Show Password Toggle -->
<script>
  function togglePassword() {
    const passwordField = document.getElementById('password');
    passwordField.type = passwordField.type === 'password' ? 'text' : 'password';
  }
</script>
