<form method="post" action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>">
  <fieldset>
    <legend><h2>Account Details</h2></legend>

    <div class="form-group">
      <label for="site-name">Site/App Name:</label>
      <input type="text" name="site-name" id="site-name" required placeholder="e.g., YouTube">
    </div>

    <div class="form-group">
      <label for="url">URL:</label>
      <input type="url" name="url" id="url" required placeholder="e.g., https://www.youtube.com">
    </div>

    <div class="form-group">
      <label for="username">Username:</label>
      <select id="username" name="username" required>
        <option value="" disabled selected>Select Username</option>
        <?php
          // Dynamically populate the usernames from the database
          $rows = getUsernames();
          foreach ($rows as $row) {
              echo '<option value="'.$row["username"].'">'.$row["username"].'</option>';
          }
        ?>
      </select>
    </div>

    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" name="password" id="password" required placeholder="Choose a strong password">
      <input type="checkbox" id="show-password" onclick="togglePassword()"> Show Password
    </div>
  </fieldset>

  <fieldset>
    <legend><h2>Personal Information</h2></legend>

    <div class="form-group">
      <label for="user-id">User ID:</label>
      <input type="number" name="user-id" id="user-id" required placeholder="e.g., 12345">
    </div>

    <div class="form-group">
      <label for="email">Email Address:</label>
      <input type="email" name="email" id="email" required placeholder="e.g., user@example.com">
    </div>

    <div class="form-group">
      <label for="comment">Comment:</label>
      <textarea name="comment" id="comment" rows="4" required placeholder="e.g., Notes about this account"></textarea>
    </div>
  </fieldset>

  <div class="form-group">
    <button type="submit" class="btn">Add Account</button>
    <button type="reset" class="btn">Reset</button>
  </div>

  <input type="hidden" name="submitted" value="3">
</form>

<script>
  function togglePassword() {
    const passwordField = document.getElementById('password');
    passwordField.type = passwordField.type === 'password' ? 'text' : 'password';
  }
</script>
